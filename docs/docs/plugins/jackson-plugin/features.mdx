---
title: "Features"
sidebar_position: 71
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

The Jackson plugin integrates [Jackson](https://github.com/FasterXML/jackson) with Fixture Monkey, giving you:

- **`JacksonObjectArbitraryIntrospector`** as the default introspector — creates objects using Jackson's ObjectMapper
- **Jackson annotation support** — `@JsonProperty`, `@JsonIgnore`, `@JsonTypeInfo`, `@JsonSubTypes`
- **Custom ObjectMapper** — use your production ObjectMapper configuration

### When to use the Jackson Plugin

The Jackson plugin is a good choice when:
- Your classes use Jackson annotations (`@JsonProperty`, `@JsonIgnore`, etc.)
- You have a mix of Java and Kotlin classes in your project
- Your classes don't have a no-args constructor or Lombok annotations
- You want object creation to match your production serialization behavior

:::tip
If your classes have a no-args constructor with setters, the default `BeanArbitraryIntrospector` works fine without this plugin.
For Lombok `@Value` classes, consider `ConstructorPropertiesArbitraryIntrospector` instead.
:::

## Dependencies

#### Gradle
```groovy
testImplementation("com.navercorp.fixturemonkey:fixture-monkey-jackson:1.1.15")
```

#### Maven
```xml
<dependency>
  <groupId>com.navercorp.fixturemonkey</groupId>
  <artifactId>fixture-monkey-jackson</artifactId>
  <version>1.1.15</version>
  <scope>test</scope>
</dependency>
```

## Plugin Setup

<Tabs groupId="language">
<TabItem value="java" label="Java">

```java
FixtureMonkey fixtureMonkey = FixtureMonkey.builder()
    .plugin(new JacksonPlugin())
    .build();
```

</TabItem>
<TabItem value="kotlin" label="Kotlin">

```kotlin
val fixtureMonkey = FixtureMonkey.builder()
    .plugin(KotlinPlugin())
    .plugin(JacksonPlugin())
    .build()
```

:::note
For Kotlin projects, add both `KotlinPlugin()` and `JacksonPlugin()`. Also add `jackson-module-kotlin` to your dependencies for proper Kotlin class serialization.
:::

</TabItem>
</Tabs>

### Using a Custom ObjectMapper

If your production code uses a custom ObjectMapper, pass it to the plugin to ensure test objects match your serialization configuration:

<Tabs groupId="language">
<TabItem value="java" label="Java">

```java
ObjectMapper objectMapper = JsonMapper.builder()
    .disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)
    .build();

FixtureMonkey fixtureMonkey = FixtureMonkey.builder()
    .plugin(new JacksonPlugin(objectMapper))
    .build();
```

</TabItem>
<TabItem value="kotlin" label="Kotlin">

```kotlin
val objectMapper = JsonMapper.builder()
    .disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)
    .build()

val fixtureMonkey = FixtureMonkey.builder()
    .plugin(KotlinPlugin())
    .plugin(JacksonPlugin(objectMapper))
    .build()
```

</TabItem>
</Tabs>

## Quick Example

<Tabs groupId="language">
<TabItem value="java" label="Java">

```java
@Value
public class Product {
    long id;

    @JsonProperty("name")
    String productName;

    long price;

    @JsonIgnore
    List<String> options;
}

@Test
void test() {
    FixtureMonkey fixtureMonkey = FixtureMonkey.builder()
        .plugin(new JacksonPlugin())
        .build();

    Product product = fixtureMonkey.giveMeBuilder(Product.class)
        .set("name", "book")  // uses @JsonProperty name
        .sample();

    then(product.getProductName()).isEqualTo("book");
    then(product.getOptions()).isNull();  // @JsonIgnore
}
```

</TabItem>
<TabItem value="kotlin" label="Kotlin">

```kotlin
data class Product(
    val id: Long,
    @JsonProperty("name")
    val productName: String,
    val price: Long,
    @JsonIgnore
    val options: List<String>? = null
)

@Test
fun test() {
    val fixtureMonkey = FixtureMonkey.builder()
        .plugin(KotlinPlugin())
        .plugin(JacksonPlugin())
        .build()

    val product = fixtureMonkey.giveMeBuilder<Product>()
        .set("name", "book")  // uses @JsonProperty name
        .sample()

    then(product.productName).isEqualTo("book")
    then(product.options).isNull()  // @JsonIgnore
}
```

</TabItem>
</Tabs>

## Learn More

- [JacksonObjectArbitraryIntrospector](./jackson-object-arbitrary-introspector) — how the introspector works and performance considerations
- [Jackson Annotations](./jackson-annotations) — supported annotations and examples
